
# 概念

## 导数

### 定义

$$f'(x) = \lim_{h \rightarrow 0} \frac{f(x+h) - f(x)}{h}$$

导数的符号表示：

$$f'(x) = y' = \frac{dy}{dx} = \frac{df}{dx} = \frac{d}{dx} f(x) = Df(x) = D_x f(x)$$

### 运算规则

$$\frac{d}{dx} [Cf(x)] = C \frac{d}{dx} f(x)$$

$$\frac{d}{dx} [f(x) + g(x)] = \frac{d}{dx} f(x) + \frac{d}{dx} g(x)$$

$$\frac{d}{dx} [f(x)g(x)] = f(x) \frac{d}{dx} [g(x)] + g(x) \frac{d}{dx} [f(x)]$$

$$\frac{d}{dx} \left[\frac{f(x)}{g(x)}\right] = \frac{g(x) \frac{d}{dx} [f(x)] - f(x) \frac{d}{dx} [g(x)]}{[g(x)]^2}$$


## 偏导数

$y = f(x_1, x_2, \ldots, x_n)$对自变量$x_i$的偏导数的定义：

$$\frac{\partial y}{\partial x_i} = \lim_{h \rightarrow 0} \frac{f(x_1, \ldots, x_{i-1}, x_i+h, x_{i+1}, \ldots, x_n) - f(x_1, \ldots, x_i, \ldots, x_n)}{h}$$


## 梯度

### 定义

连结一个多元函数对其所有变量的偏导数，可以得到该函数的**梯度（gradient）** 向量。

若有函数$f:\mathbb{R}^n\rightarrow\mathbb{R}$，其输入为向量$\vec{x}=[x_1,x_2,\ldots,x_n]^\top$，输出为标量。则函数$f(\vec{x})$的梯度是n个偏导数拼在一起的向量：


$$\nabla_{\vec{x}} f(\vec{x}) = \bigg[\frac{\partial f(\vec{x})}{\partial x_1}, \frac{\partial f(\vec{x})}{\partial x_2}, \ldots, \frac{\partial f(\vec{x})}{\partial x_n}\bigg]^\top$$

> [!note]
> $\nabla_{\vec{x}} f(\vec{x})$通常在没有歧义时被$\nabla f(\vec{x})$取代。

### 运算规则

对于$n$维向量$\vec{x}$，有：
- 对于所有$\mathbf{A} \in \mathbb{R}^{m \times n}$，都有$\nabla_{\mathbf{x}} \mathbf{A} \mathbf{x} = \mathbf{A}^\top$
- 对于所有$\mathbf{A} \in \mathbb{R}^{n \times m}$，都有$\nabla_{\mathbf{x}} \mathbf{x}^\top \mathbf{A} = \mathbf{A}$
- 对于所有$\mathbf{A} \in \mathbb{R}^{n \times n}$，都有$\nabla_{\mathbf{x}} \mathbf{x}^\top \mathbf{A} \mathbf{x} = (\mathbf{A} + \mathbf{A}^\top)\mathbf{x}$
- $\nabla_{\mathbf{x}} \|\mathbf{x} \|^2 = \nabla_{\mathbf{x}} \mathbf{x}^\top \mathbf{x} = 2\mathbf{x}$

对于任意矩阵$\mathbf{X}$，有：$\nabla_{\mathbf{X}} \|\mathbf{X} \|_F^2 = 2\mathbf{X}$

> $\|\mathbf{X} \|_F$是矩阵的[Frobenius范数](线性代数/线性代数.md#范数)。



















